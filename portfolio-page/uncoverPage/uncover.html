<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" href="../../img/favicon.webp">
  <link rel="stylesheet" href="./uncover.css">
  <link rel="stylesheet" href="./reset.css">
  <link rel="stylesheet" href="../../fontawesome/css/all.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai-sublime.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <title>Demuu Portfolio</title>
</head>
<body>

  <header>
    <div id="header">
      <div class="header-container clearfix">
        <div class="header-logo">
          <a href="../../main-page/index.html"><img src="../../img/faviconB.webp" alt="logo"/></a>
        </div>
        <div class="header-menu">
          <ul>
            <li>
              <a href="../../main-page/index.html">Home</a>
            </li>
            <li>
              <a href="../../portfolio-page/portfolio.html">Portfolio</a>
            </li>
            <li>
              <a href="../../gallery-page/gallery.html">Gallery</a>
            </li>
            <li>
              <a href="https://preasim.github.io" target="_blank">Blog</a>
            </li>
          </ul>
        </div>
    
        <!-- ----- header-menu2 (576px or less) ----- -->
        <div class="header-menu2">
          <div class="circle"></div>
          <div class="menu2-menus">
            <ul>
              <li><a href="../../main-page/index.html">Home</a></li>
              <li><a href="../../portfolio-page/portfolio.html">Portfolio</a></li>
              <li><a href="../../gallery-page/gallery.html">Gallery</a></li>
              <li><a href="https://preasim.github.io">Blog</a></li>
            </ul>
          </div>
          <div class="burger">
            <div class="x"></div>
            <div class="y"></div>
            <div class="z"></div>
          </div> 
        </div>
      </div>
    </div>
  </header>


  
  <div class="site">
    <!-- <a href="https://uncoversound.com/" target="_blank">
      <div class="item">
        <img src="../../img/home.png" style="width: 76%; padding-bottom: 6px;">
      </div>
    </a> -->
    <a href="https://github.com/codestates-seb/seb43_main_017" target="_blank">
      <div class="item">
        <img src="../../img/github2.png" style="width: 90%; padding-top: 4px;">
      </div>
    </a>
    <a href="https://fir-comet-0b2.notion.site/Uncover-29b5c60e0d684aca9e669f27ade96777" target="_blank">
      <div class="item">
        <img src="../../img/lbj_notion_0.webp" style="width: 76%;">
      </div>
    </a>
    <!-- <a href="https://youtu.be/OJ9Xg6aKpAc" target="_blank">
      <div class="item">
        <img src="../../img/youtube.png" style="width: 75%;">
      </div>
    </a> -->
  </div>


  <div class="break-container">
    <div class="portfolio">
      <h2 class="date">2023.04.28 - 2023.05.31</h2>
      <h2 class="projectName">UNCOVER</h2>
      <h2 class="teamName">Team. Undefined</h2>

      <div id="summary">
        <h2 class="title">Summary</h2>
        <div class="summary-site">
          <a href="https://uncoversound.com/" target="_blank">
            <div class="item">
              <img src="../../img/home.png" style="width: 74%; padding-bottom: 3px;">
            </div>
          </a>
          <a href="https://github.com/codestates-seb/seb43_main_017" target="_blank">
            <div class="item">
              <img src="../../img/github2.png" style="width: 86%; padding-top: 2px;">
            </div>
          </a>
          <a href="https://fir-comet-0b2.notion.site/Uncover-29b5c60e0d684aca9e669f27ade96777" target="_blank">
            <div class="item">
              <img src="../../img/lbj_notion_0.webp" style="width: 72%;">
            </div>
          </a>
          <a href="https://youtu.be/OJ9Xg6aKpAc" target="_blank">
            <div class="item">
              <img src="../../img/youtube.png" style="width: 70%;">
            </div>
          </a>
        </div>
        <p>6인 팀 프로젝트 / No Copyright Music 서비스 플랫폼</p>
        <div class="cl4"></div>
        <p>저작권이 자유로는 음악들을 서비스하는 웹사이트입니다.</p>
        <p>평소 EDM 음악을 즐겨 듣는 저의 취미에서 착안하여, 인터랙티브 웹을 강조한 기획을 진행했습니다.</p>
        <div class="cl3"></div>
        <p>Java와 Spring Boot를 활용한 첫 팀 프로젝트로 팀원들과 함께 처음 시도하는 프로젝트였기에 서로 질의응답하며</p>
        <p>고민하는 과정이 흥미로웠고, 커뮤니케이션 능력 향상과 함께 Java, Spring Boot에 대한 익숙함도 함께 얻을 수 있었습니다.</p>

        <div class="cl3"></div>
        <div class="sum-img">
          <div class="img1">
            <div class="item">
              <a href="../../img/uncoverimg1.png" target="_blank"><img src="../../img/uncoverimg1.png"></a>
            </div>
            <div class="item">
              <a href="../../img/uncoverimg3.png" target="_blank"><img src="../../img/uncoverimg3.png"></a>
            </div>
            <div class="item">
              <a href="../../img/uncoverimg5.png" target="_blank"><img src="../../img/uncoverimg5.png"></a>
            </div>
            <div class="item">
              <a href="../../img/uncoverimg7.png" target="_blank"><img src="../../img/uncoverimg7.png"></a>
            </div>
          </div>
          <div class="img2">
            <div class="item">
              <a href="../../img/uncoverimg2.png" target="_blank"><img src="../../img/uncoverimg2.png"></a>
            </div>
            <div class="item">
              <a href="../../img/uncoverimg4.png" target="_blank"><img src="../../img/uncoverimg4.png"></a>
            </div>
            <div class="item">
              <a href="../../img/uncoverimg6.png" target="_blank"><img src="../../img/uncoverimg6.png"></a>
            </div>
            <div class="item">
              <a href="../../img/uncoverimg8.png" target="_blank"><img src="../../img/uncoverimg8.png"></a>
            </div>
          </div>
        </div>
        <div class="cl1"></div>

        <p>백엔드 개발자 3명, 프론트엔드 개발자 3명으로 구성된 팀 프로젝트에서 저는 백엔드 개발자로서 아래와 같은 역할을 담당했습니다.</p>
        <div class="cl3"></div>
        <h3 class="role">Team Lead</h3>
        <p>- 프로젝트 기획 및 전반적인 개발 진행에 관여</p>
        <p>- 효율적인 협업을 위한 가이드 문서 작성</p>
        <p>- 인터랙티브 웹을 위한 디자인 방향 제시 및 개선</p>
        <p>- 오디오 음질 개선 및 DB 공간 확보를 위한 전략 제시</p>
        <p>- 레퍼런스 사이트 및 디자인 탐색</p>
        <p>- 플레이리스트 및 뮤직 배너 이미지를 GIF 형식으로 변경</p>
        <p>- 감성적인 제목 및 본문 작성</p>
        <p>- 아키텍처 설계 및 리팩토링</p>
        <div class="cl2"></div>
        <h3 class="role">Backend Development</h3>
        <p>- 플레이리스트, 좋아요, 댓글, 태그 기능 개발</p>
        <p>- 좋아요 및 댓글 기능에서 발생할 수 있는 동시성 문제 해결</p>
        <p>- ngrok을 활용한 클라이언트와의 실시간 테스트 진행</p>
        <p>- 인기 있는 노래를 기반으로 한 플레이리스트 추천 기능 개발</p>
        <p>- 유저 선호 태그가 포함된 플레이리스트를 상단에 노출시키는 기능 개발</p>
        <div class="cl2"></div>
        <h3 class="role">사용 기술 스택</h3>
        <p><strong>Frameworks</strong>: Spring Boot(Web, Data JPA, Validation), MapStruct</p>
        <p><strong>Authentication</strong>: JWT</p>
        <p><strong>Server</strong>: AWS EC2, S3, RDS</p>
        <p><strong>Database</strong>: H2(in-memory), MySQL</p>
        <p><strong>API Documentation</strong>: Apache HttpClient</p>
        <p><strong>Utilities</strong>: Lombok, Gson</p>
        <p><strong>Testing</strong>: JUnit, Security Test</p>
      </div>

      <div id="architecture">
        <h2 class="title">Architecture</h2>
        <p><a href="../../img/uncover_erd.png" target="_blank">ERD 바로가기 <i class="fa-solid fa-chevron-right"></i></a></p>
        <p><a href="https://documenter.getpostman.com/view/25524075/2s93eX1DP8#de8c1b63-20c9-40cf-ad48-514269974fb3" target="_blank">API 바로가기 <i class="fa-solid fa-chevron-right"></i></a></p>

        <div class="stack">
          <img src="../../img/Architecture1.webp">
        </div>
      </div>

      <div id="experience">
        <h2 class="title">Experience</h2>
        <p>이 프로젝트에서는 그동안 학습했던 ERD 설계를 실습해 볼 수 있었습니다.</p>
        <p>저를 포함한 3명의 백엔드 개발자와 네이버 클라우드 멘토 개발자의 도움을 받아</p>
        <p>먼저 사용자, 음악, 플레이리스트, 태그, 좋아요 와 같은 주요 엔티티와 그 관계를 정의하며,</p>
        <p>서비스에서 요구되는 데이터 흐름과 비즈니스 로직을 중심으로 논의를 진행했습니다.</p>
        <div class="cl3"></div>
        <p>특히, 음악, 플레이리스트, 태그 간의 다대다 관계를 설계하는 과정에서 많은 고민이 있었습니다.</p>
        <p>초기에는 다대다 구조를 유지한 상태로 테스트를 진행했으나, 중복 데이터 생성과</p>
        <p>관련 데이터의 반복적인 조회로 인해 성능이 크게 저하되는 문제가 발생했습니다.</p>
        <div class="cl3"></div>
        <p>이를 해결하기 위해 멘토의 피드백을 반영하여,</p>
        <p>다대다 관계를 musicTag와 playListTag라는 중간 테이블로 분리해 일대다 관계로 재구성하고,</p>
        <p>조인 테이블에 인덱스를 추가하여 조회 성능을 최적화했습니다.</p>
        <div class="cl3"></div>
        <p>그 결과, 데이터베이스 조회 시간이 O(n)에서 O(log n) 수준으로 개선되었고,</p>
        <p>소규모 데이터 환경에서 약 27%의 성능 향상을 달성할 수 있었습니다.</p>
        <div class="cl3"></div>
        <div class="dddImg">
          <img src="../../img/uncover_erd.png" alt="">
        </div>
        <div class="cl1"></div>

        <p>프로젝트 테스트 과정에서, 동시에 여러 사용자가 좋아요 기능을 사용할 때 좋아요 수가 1만 증가하는 동시성 문제가 발생했습니다.</p>
        <div class="cl3"></div>
        <p>처음에는 간단히 Lock을 사용하는 방법을 고려했으나, 다중 요청이 동시에 몰리는 경우</p>
        <p>대기 시간이 길어지고 경합 조건이나 데드락 발생 가능성이 있어 적합하지 않다고 판단했습니다.</p>
        <div class="cl3"></div>
        <p>이후 병렬 스트림을 활용하는 방안을 검토했지만, 병렬 처리 중 데이터의 순서가 유지되지 않는 문제와</p>
        <p>동시화 및 병렬화로 인한 추가적인 오버헤드가 발생할 가능성이 있었습니다.</p>
        <div class="cl3"></div>
        <p>이를 해결하기 위해 고유한 값인 memberId를 활용하여 List에 저장하고,</p>
        <p>해당 List의 크기를 좋아요 개수로 반환하는 방식으로 문제를 해결했습니다.</p>
        <div class="cl3"></div>
        <p>이 방식은 관리자가 작업하기 용이하며, 향후 시스템 버전과의 호환성을 유지할 가능성도 높아 실용적이라고 판단했습니다.</p>

        <div id="toggle-code" class="toggle-code-1">
          <div class="toggle-code-btn tcb1">
            <p>소스코드 보기</p>
            <i id="toggle-right" class="fa-solid fa-angle-right tr1"></i>
            <i id="toggle-down" class="fa-solid fa-angle-down td1"></i>
          </div>
          <pre>
            <code class="language-java">
              @OneToMany(mappedBy = "playList", cascade = {CascadeType.ALL})
              private List&lt;PlayListLike> playListLikes = new ArrayList<>();
  
              @Column(nullable = false)
              private int likeCount = this.playListLikes.size();
  
              public void addPlayListLike(PlayListLike playListLike) {
                  this.playListLikes.add(playListLike);
                  playListLike.setPlayList(this);
                  this.likeCount = this.playListLikes.size();
              }
  
              public void removePlayListLike(PlayListLike playListLike) {
                  this.playListLikes.remove(playListLike);
                  if(playListLike.getPlayList() != this) {
                      playListLike.setPlayList(this);
                  }
                  this.likeCount = this.playListLikes.size();
              }
  
              // --------------- playListLike Service -----------------
              public PlayListLike addLike(Long memberId, Long playListId){
                  Member member = memberService.findMember(memberId);
                  PlayList playList = playListService.findVerifiedPlayList(playListId);
          
                  PlayListLike like = new PlayListLike();
                  like.setMember(member);
                  like.setPlayList(playList);
          
                  playList.addPlayListLike(like);
                  member.addLikedPlayLists(like);
          
                  return playListLikeRepository.save(like);
              }
          
              public void cancelLike(Long memberId, Long playListId){
                  Member member = memberService.findMember(memberId);
                  PlayList playList = playListService.findVerifiedPlayList(playListId);
                  List&lt;PlayListLike> likes = getAllLikesForMemberAndPlayList(memberId, playListId);
          
                  for (PlayListLike like : likes) {
                      if (member.getMemberId().equals(like.getMember().getMemberId())) {
                          playListLikeRepository.delete(like);
                          playList.removePlayListLike(like);
                          member.removeLikedPlayLists(like);
                      } else throw new BusinessLogicException(ExceptionCode.NO_PERMISSION_EDITING_COMMENT);
                  }
              }
            </code>
          </pre>
        </div>

        <div class="cl2"></div>
        <p>이전 협업에서 팀원들이 적극적으로 참여하거나 아이디어를 제시하지 않는 상황을 경험한 적이 있습니다.</p>
        <div class="cl3"></div>
        <p>이러한 경험을 바탕으로 이번 프로젝트에서는 팀 리더로서 기획, 아키텍처 설계, 디자인, 개발 등</p>
        <p>전반적인 과정에 적극적으로 참여하며, 팀원들이 능동적으로 협업에 참여할 수 있는 환경을 조성하는 데 주력했습니다.</p>
        <div class="cl3"></div>
        <p>특히 팀원들과의 커뮤니케이션을 강조하며, 자유롭게 의견을 공유할 수 있는 분위기를 형성하고자 노력했습니다.</p>
        <p>API 명세, ERD 설계, 트러블슈팅 등 기술적인 논의 과정에서는 각자의 아이디어와 전문성을 존중하며 이를 조율해 나갔습니다.</p>
        <div class="cl3"></div>
        <p>정기적인 회의, 명확한 업무 분담, 효과적인 의사결정을 통해 팀원들과 원활하게 소통했으며,</p>
        <p>이러한 협업은 프로젝트 일정 관리와 업무 효율성 향상에 크게 기여했습니다.</p>
        <div class="cl1"></div>
      </div>
    </div>
  </div>


  <script src="../../common/header.js"></script>
  <script type="module" src="./uncover.js"></script>
  <script>hljs.highlightAll();</script>
</body>
</html>